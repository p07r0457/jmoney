<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>

   <extension-point id="filestores" name="File Storage Formats" schema="schema/filestores.exsd"/>

   <extension
         point="org.eclipse.ui.commands">
    <command
            defaultHandler="net.sf.jmoney.serializeddatastore.handlers.OpenSessionHandler"
            id="net.sf.jmoney.serializeddatastore.openSession"
            name="Open Session">
         <commandParameter
               id="net.sf.jmoney.serializeddatastore.openSession.newWindow"
               name="In New Window"
               optional="true">
         </commandParameter>
      </command>
   </extension>

   <extension
         point="org.eclipse.ui.actionSets">
      <actionSet
            label="Sample Action Set"
            visible="true"
            id="net.sf.jmoney.serializeddatastore.actionSet">

         <action
               label="%MainFrame.new"
               icon="icons/New16.gif"
               tooltip="New Session"
               class="net.sf.jmoney.serializeddatastore.actions.NewSessionAction"
               menubarPath="file/fileGroup"
               toolbarPath="fileGroup"
               id="net.sf.jmoney.serializeddatastore.actions.NewSession">
         </action>
         <action
               label="%MainFrame.open"
               icon="icons/Open16.gif"
               tooltip="Open Session..."
               class="net.sf.jmoney.serializeddatastore.actions.OpenSessionAction"
               menubarPath="file/fileGroup"
               toolbarPath="fileGroup"
               id="net.sf.jmoney.serializeddatastore.actions.OpenSession">
         </action>
         <action
               label="%MainFrame.save"
               icon="icons/Save16.gif"
               tooltip="Save Session"
               class="net.sf.jmoney.serializeddatastore.actions.SaveSessionAction"
               menubarPath="file/fileGroup"
               toolbarPath="fileGroup"
               id="net.sf.jmoney.serializeddatastore.actions.SaveSession">
         </action>
         <action
               label="%MainFrame.saveAs"
               icon="icons/SaveAs16.gif"
               tooltip="Save Session As"
               class="net.sf.jmoney.serializeddatastore.actions.SaveSessionAsAction"
               menubarPath="file/fileGroup"
               toolbarPath="fileGroup"
               id="net.sf.jmoney.serializeddatastore.actions.SaveSessionAs">
         </action>
      </actionSet>
   </extension>

   <extension point="org.eclipse.ui.menus">
     <menuContribution locationURI="menu:file?after=sessionGroup">
        <command
              commandId="net.sf.jmoney.serializeddatastore.openSession"
              label="Open Session..."/>
     </menuContribution>

     <menuContribution locationURI="menu:file?after=sessionGroup">
        <command
              commandId="net.sf.jmoney.serializeddatastore.openSession"
              label="Open Session in New Window...">
           <parameter
                 name="net.sf.jmoney.serializeddatastore.openSession.newWindow"
                 value="true">
           </parameter>
        </command>
     </menuContribution>
   </extension>

   <extension
         point="org.eclipse.ui.elementFactories">
        <factory 
           id ="net.sf.jmoney.serializeddatastore.SessionFactory" 
           class="net.sf.jmoney.serializeddatastore.SessionFactory">
        </factory> 
   </extension>

   <extension
         point="net.sf.jmoney.serializeddatastore.filestores">
        <file-format
           id="jmxFormat" 
           file-pattern="*.jmx" 
           format-description="JMoney files" 
           class="net.sf.jmoney.serializeddatastore.formats.JMoneyXmlFormat">
        </file-format> 
        <file-format
           id="xmlFormat" 
           file-pattern="*.xml" 
           format-description="JMoney in uncompressed xml" 
           class="net.sf.jmoney.serializeddatastore.formats.JMoneyXmlFormat">
        </file-format> 
   </extension>

</plugin>
